第一週目
=======

先ず、下記リスト内容を理解した上でゲーム作成の内容に入る。

- [Programming について](./about-programming.md)
- [Ruby について](./about-ruby.md)

## DXRuby について

ゲームを作成するには様々なツール (道具) があります。
その中でも比較的に利用が簡単な物として、
DXRuby という物を選んでいます。

DXRuby はインストールを行なわなくとも、
フォルダを Windows PC に置くだけで使えるようになります。
但し、Direct X がインストールされている必要はあります。

これからその使い方について解説を行なっていきます。

### Window の作成

Window を作成するだけであれば、
DXRuby では下記の様に書く事で実現出来ます。
```ruby
# -*- coding: cp932 -*-
require 'dxruby'

Window.loop do

end
```

ただし、上記プログラムのみではウィンドウを表示するだけで、
ゲームとしては成り立ちません。
このプログラムに少しずつ形を与える事で
ゲームに近づいていきます。

``require 'dxruby'`` という行は、
DXRuby を実行する為に必要な記述です。

### 画像データの読み込み方と表示

ゲームに使用するキャラクター (画像) の表示方法を示します。
```ruby
# 一つのファイルに一つの画像しか無いときに使う
# "filepath" には文字列でファイルの名前の保存されているフォルダの名前とファイルの名前を記述する
image = Image.load("filepath")

# 一つのファイルに全てのサイズが同じである複数の画像がある場合に使う
# xcount には画像ファイルの中に何個の画像が横並びになっているかを記述する
# ycount は xcount の縦版を記述する
image_array = Image.load_tiles("filepath", xcount, ycount)
```

> 例えば、画像データを扱う場合に良く image という名前を使う人が多いですが、
> image では何の画像か分かり辛いので、
> 画像データの中身に合わせた変数名にすると良いです。
> 何らかのキャラクタの画像ならば、
> そのキャラクタの名前を変数名に使うなどが、例として考えられます。

### 画像データをゲーム上で扱いやすくする為に

DXRuby では、画像データを読み込んだままの状態ではゲーム上で (処理の都合上) 扱いにくいため、
今回は、面倒くさい処理を裏方に任せるメソッドを使うことにします。

```ruby
x = 0
y = 0

image_data = Image.load_tiles("../character.png", 4, 4)

# Sprite.new とはゲーム上でキャラクタを扱う為に使用するメソッドで、
# このメソッドによって作られたデータを使うことで、
# キャラクタの位置の変更や衝突の判定を簡単に行うことが出来る
sample_sprite = Sprite.new(x, y, image_data[0])

Window.loop do
  # Sprite.draw メソッドを使うと指定した Sprite データを画面に表示 (描画) することが出来る
  Sprite.draw(sample_sprite)
end
```

Sprite.~ というメソッドを使用しているのには、
後々ゲームを作成する上で楽をするという物があります。
その為、今すぐにそのメリットが効くという事はありません。

次週の授業にてその内容に触れたいと思います。
